<%= hidden_field_tag param_name.to_sym, params[param_name.to_sym] %>
<%= button_to_function "Select directory...", "getSelectedDir('#{param_name}')" %>
<%= label_tag "#{param_name}_label".to_sym, params[param_name.to_sym].nil? ? "No directory selected" : params[param_name.to_sym], :id => "#{param_name}_label" %>
